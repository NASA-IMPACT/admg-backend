<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API documentation &mdash; admg_webapp 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-toolbox-code.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Curation Interface" href="curation_interface.html" />
    <link rel="prev" title="Catalog of Archived Suborbital Earth Science Investigations" href="casei_overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            admg_webapp
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">What is CASEI?</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="casei_overview.html">Catalog of Archived Suborbital Earth Science Investigations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Usage</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retrieving-data-from-table-endpoints">Retrieving Data from Table Endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performing-full-table-queries">Performing Full Table Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uuids-and-related-objects">UUIDs and Related Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#string-match-queries">String Match Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-queries">Example Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#querying-an-entire-table">Querying an entire table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-by-uuid">Query by UUID</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-by-default-search-fields">Query by default search fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-by-specific-field">Query by specific field</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-by-specific-field-list">Query by specific field list</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#link-to-api">Link to API</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Curation Process</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="curation_interface.html">Curation Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Understanding Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_models.html">Data Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_objects.html">Understanding the Change Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmr_recommender.html">CMR Recommender</a></li>
<li class="toctree-l1"><a class="reference internal" href="gcmd_sync.html">GCMD Sync</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation and Tests</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="project_installation.html">Docker Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_tests.html">Running Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">admg_webapp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/documentation/api_doc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-documentation">
<h1>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>The CASEI API provides access to the metadata stored in the CASEI PostgreSQL database. The database consists of multiple tables, each containing fields and foreign keys.
Each API endpoint corresponds to a specific table in the database. You can find the available models and fields at the bottom of this page.</p>
</section>
<section id="retrieving-data-from-table-endpoints">
<h2>Retrieving Data from Table Endpoints<a class="headerlink" href="#retrieving-data-from-table-endpoints" title="Permalink to this heading"></a></h2>
<p>To retrieve data from a table endpoint, make a request to the corresponding URL. For example, accessing the URL <a class="reference external" href="https://admg.nasa-impact.net/api/campaign">https://admg.nasa-impact.net/api/campaign</a>
will return a list of all metadata items in the “campaign” table, representing the available campaigns in the inventory..</p>
<p>If you have the UUID of a specific object, you can retrieve it by appending the UUID to the table name in the URL. Alternatively, string match searching is available for most fields,
allowing you to search for specific data based on partial matches. More information on the available search types and example queries can be found below.</p>
</section>
<section id="performing-full-table-queries">
<h2>Performing Full Table Queries<a class="headerlink" href="#performing-full-table-queries" title="Permalink to this heading"></a></h2>
<p>To retrieve the complete data from a table, simply access the corresponding endpoint. For instance, accessing <a class="reference external" href="https://admg.nasa-impact.net/api/campaign">https://admg.nasa-impact.net/api/campaign</a> will return a list of all published campaign
items in the database.</p>
<p>Here’s a contrived example that demonstrates the results of a campaign query. The ellipsis (…) indicates the presence of additional metadata and campaigns. You can see summarized metadata for two campaigns, namely OLYMPEX and ACES.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;2552174b-213c-4bfc-b36a-632fb16c5ec2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;short_name&quot;</span><span class="p">:</span> <span class="s2">&quot;OLYMPEX&quot;</span><span class="p">,</span>
        <span class="s2">&quot;long_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Olympic Mountains Experiment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;start_date&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-11-01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;partner_orgs&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;d6ffd2fa-1230-4971-a0a4-832b27b3a6c1&quot;</span>
        <span class="p">],</span>
        <span class="o">...</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;30ba471c-0844-447a-91fd-b63a2f42b715&quot;</span><span class="p">,</span>
        <span class="s2">&quot;short_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ACES&quot;</span><span class="p">,</span>
        <span class="s2">&quot;long_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Altus Cumulus Electrification Study&quot;</span><span class="p">,</span>
        <span class="s2">&quot;start_date&quot;</span><span class="p">:</span> <span class="s2">&quot;2002-08-02&quot;</span>
        <span class="s2">&quot;partner_orgs&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="o">...</span>
    <span class="p">},</span>
    <span class="o">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="uuids-and-related-objects">
<h2>UUIDs and Related Objects<a class="headerlink" href="#uuids-and-related-objects" title="Permalink to this heading"></a></h2>
<p>In the example results from the Campaign table, we encountered several UUIDs: one that identifies each campaign, and another UUID within the “partner_orgs” list for the OLYMPEX campaign.</p>
<p>Each item in the CASEI database has its own unique UUID, and related objects linked from other tables are referenced using their respective UUIDs. For instance, a Campaign might have been conducted in collaboration with a Partner Org. However, the Partner Org is not represented as a simple string value. It is an independent object with its own table and additional metadata. Therefore, the Campaign API response includes the UUID of the relevant Partner Org.</p>
<p>If you wish to view the details of a specific Partner Org, you need to query the “partner_org” endpoint with the provided UUID. Based on the metadata shown above, you can make the following query:</p>
<p><a class="reference external" href="https://admg.nasa-impact.net/api/partner_org/d6ffd2fa-1230-4971-a0a4-832b27b3a6c1">https://admg.nasa-impact.net/api/partner_org/d6ffd2fa-1230-4971-a0a4-832b27b3a6c1</a>.</p>
<p>This query will retrieve the metadata for the related Partner Org, in this case, ECCC (Environment and Climate Change Canada).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
<span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;d6ffd2fa-1230-4971-a0a4-832b27b3a6c1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;14aa21a2-de5a-4987-af11-d2c7c7a0c20f&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;campaigns&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;1d26f72f-d9d5-45cc-b5ac-1c91ed05b76f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;118d9d82-5e90-466b-8b82-530276b76ecc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2552174b-213c-4bfc-b36a-632fb16c5ec2&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;short_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ECCC&quot;</span><span class="p">,</span>
    <span class="s2">&quot;long_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Environment and Climate Change Canada&quot;</span><span class="p">,</span>
    <span class="s2">&quot;website&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.canada.ca/en/environment-climate-change.html&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you can see, the Partner Org has its own informative metadata, including a long name, aliases, a website, and even a list of all the campaigns it is associated with.</p>
<p>You may have observed that the Campaign table has a plural field named “partner_orgs,” while the table name itself is singular, “partner_org,”.
In CASEI, table names are always singular, but related fields can be either singular or plural depending on the number of items linked.</p>
<p>But what if you do not have the UUID of the item you wish to query?</p>
</section>
<section id="string-match-queries">
<h2>String Match Queries<a class="headerlink" href="#string-match-queries" title="Permalink to this heading"></a></h2>
<p>In most cases, you may not have the UUIDs of the Campaign or Partner Org you are interested in. Instead, you are more likely to know the short name, long name, or perhaps a keyword from the description.</p>
<p>CASEI supports string matching queries, allowing you to search for relevant data using basic string matching techniques. Since all data types are serialized into strings, most fields can be searched using simple string matching. Even native date types can be searched by converting them into searchable strings, such as “2022-01-15”.</p>
<p>By default, the search is case-insensitive and follows a containment logic. For instance, a field value of “yellow clouds” will match the search string “cloud”.</p>
<p>When constructing a query, you can utilize the following parameters:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="nv">`search_term`</span> : Contains the actual search string, for example: aces, cloud, 2022-01-05.

<span class="nv">`search_type`</span> : Optional parameter with a default value of &quot;plain&quot;. Other options include &quot;phrase&quot;,
    &quot;raw&quot;, and &quot;websearch&quot;. Each option determines how the search terms are treated.
    You can refer to the PostgreSQL docs for detailed information on the differences and syntax.
    plain: terms are treated as separate keywords
    phrase: terms are treated as a single phrase
    raw: formatted search query with terms and operators
    websearch: formatted search query, similar to the one used by web search engines.

<span class="nv">`search_fields`</span>: Optional parameter that defaults to predefined fields in each model. It specifies the exact field to be searched, such as &quot;short_name&quot;, &quot;description&quot;, or &quot;start_date&quot;.
</pre></div>
</div>
</section>
<section id="example-queries">
<h2>Example Queries<a class="headerlink" href="#example-queries" title="Permalink to this heading"></a></h2>
<p>We have already seen a few examples above, but let’s explore common use cases with additional queries.</p>
<section id="querying-an-entire-table">
<h3>Querying an entire table<a class="headerlink" href="#querying-an-entire-table" title="Permalink to this heading"></a></h3>
<p>This query will return metadata for all the campaigns.</p>
<blockquote>
<div><p><a class="reference external" href="https://admg.nasa-impact.net/api/campaign">https://admg.nasa-impact.net/api/campaign</a></p>
</div></blockquote>
</section>
<section id="query-by-uuid">
<h3>Query by UUID<a class="headerlink" href="#query-by-uuid" title="Permalink to this heading"></a></h3>
<p>This query will return metadata for the exact campaign specified by UUID.</p>
<blockquote>
<div><p><a class="reference external" href="https://admg.nasa-impact.net/api/campaign/30ba471c-0844-447a-91fd-b63a2f42b715">https://admg.nasa-impact.net/api/campaign/30ba471c-0844-447a-91fd-b63a2f42b715</a></p>
</div></blockquote>
</section>
<section id="query-by-default-search-fields">
<h3>Query by default search fields<a class="headerlink" href="#query-by-default-search-fields" title="Permalink to this heading"></a></h3>
<p>Each table has a list of default search fields, usually <cite>short_name</cite>, <cite>long_name</cite>, <cite>description</cite>, and any other text fields. This query will search all of those fields for the listed term.</p>
<blockquote>
<div><p><a class="reference external" href="https://admg.nasa-impact.net/api/campaign/search_term=ACES">https://admg.nasa-impact.net/api/campaign/search_term=ACES</a></p>
</div></blockquote>
</section>
<section id="query-by-specific-field">
<h3>Query by specific field<a class="headerlink" href="#query-by-specific-field" title="Permalink to this heading"></a></h3>
<p>If you know the exact field and want to search it specifically, use the <cite>search_fields</cite> parameter. Here we are looking for the term “ACES” in the <cite>short_name</cite> field of any campaign.</p>
<blockquote>
<div><p><a class="reference external" href="https://admg.nasa-impact.net/api/campaign/search_term=ACES&amp;search_fields=short_name">https://admg.nasa-impact.net/api/campaign/search_term=ACES&amp;search_fields=short_name</a></p>
</div></blockquote>
</section>
<section id="query-by-specific-field-list">
<h3>Query by specific field list<a class="headerlink" href="#query-by-specific-field-list" title="Permalink to this heading"></a></h3>
<p>You can also search by a specific list of fields, just join them with a comma. In this example we are searching for the term ice anywhere in the <cite>short_name</cite> or <cite>description</cite> field of any campaign.</p>
<blockquote>
<div><p><a class="reference external" href="https://admg.nasa-impact.net/api/campaign/search_term=ice&amp;search_fields=short_name,description">https://admg.nasa-impact.net/api/campaign/search_term=ice&amp;search_fields=short_name,description</a></p>
</div></blockquote>
</section>
</section>
<section id="link-to-api">
<h2>Link to API<a class="headerlink" href="#link-to-api" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt><cite>Base URL</cite>: <a class="reference external" href="admgstaging.nasa-impact.net/api">admgstaging.nasa-impact.net/api</a></dt><dd><p><a class="reference external" href="https://admgstaging.nasa-impact.net/api/docs/?format=openapi">https://admgstaging.nasa-impact.net/api/docs/?format=openapi</a></p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="casei_overview.html" class="btn btn-neutral float-left" title="Catalog of Archived Suborbital Earth Science Investigations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="curation_interface.html" class="btn btn-neutral float-right" title="Curation Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Carson Davis.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>